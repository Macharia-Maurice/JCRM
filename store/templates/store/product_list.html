{% for category in categories %}
    <h2>{{ category.name }}</h2>
    <div class="grid">
        {% for product in products %}
            {% if product.category == category %}
                <div class="card">
                    <img src="{{ product.cover_image.url }}" alt="{{ product.title }}">
                    <h3>{{ product.title }}</h3>
                    <p>{{ product.author }}</p>
                    <a href="{% url 'product_detail' product.id %}">View Details</a>
                </div>
            {% endif %}
        {% endfor %}
    </div>
{% endfor %}
